(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-101f0a15"],{"0046":function(t,e,s){"use strict";s("3a6c")},1148:function(t,e,s){"use strict";var n=s("a691"),i=s("577e"),o=s("1d80");t.exports=function(t){var e=i(o(this)),s="",a=n(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(s+=e);return s}},"159b":function(t,e,s){var n=s("da84"),i=s("fdbc"),o=s("17c2"),a=s("9112");for(var r in i){var c=n[r],l=c&&c.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(f){l.forEach=o}}},"17c2":function(t,e,s){"use strict";var n=s("b727").forEach,i=s("a640"),o=i("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"2b6b":function(t,e,s){},"2ba5":function(t,e,s){"use strict";s("58e7")},"31b0":function(t,e,s){"use strict";s("8203")},"3a6c":function(t,e,s){},"408a":function(t,e,s){var n=s("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"40d1":function(t,e,s){"use strict";s("8716")},"4c5b":function(t,e,s){},"58e7":function(t,e,s){},"6ab7":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail"},[s("detail-nav-bar",{ref:"nav",on:{currentClick:t.currentClick}}),s("scroll",{ref:"scroll",staticClass:"wrapper",attrs:{"probe-type":3},on:{scroll:t.currentPosition}},[s("detail-swiper",{ref:"swiper",attrs:{"top-images":t.topImages}}),s("detail-base-info",{attrs:{goods:t.goods}}),s("detail-shop-info",{attrs:{shop:t.shop}}),s("detail-goods-info",{attrs:{"detail-info":t.detailInfo},on:{imgLoad:t.imgLoad}}),s("detail-params-info",{ref:"params",attrs:{"param-info":t.paramsInfo}}),s("detail-comment-info",{ref:"comment",attrs:{"comment-info":t.commentInfo}}),s("good-list",{ref:"recommend",attrs:{goods:t.recommend}})],1),s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],nativeOn:{click:function(e){return t.backTop.apply(null,arguments)}}}),s("detail-bottom-bar",{on:{addCart:t.addToCart}})],1)},i=[];function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}s("b0c0");var a=s("a137");function r(t){return Object(a["a"])({url:"/detail",params:{iid:t}})}var c=function t(e,s,n){o(this,t),this.title=e.title,this.desc=e.desc,this.newPrice=e.price,this.oldPrice=e.oldPrice,this.discount=e.discountDesc,this.columns=s,this.services=n,this.realPrice=e.lowNowPrice},l=function t(e){o(this,t),this.logo=e.shopLogo,this.name=e.name,this.fans=e.cFans,this.sells=e.cSells,this.score=e.score,this.goodsCount=e.cGoods},f=function t(e,s){o(this,t),this.image=e.images?e.images[0]:"",this.infos=e.set,this.sizes=s.tables};function u(){return Object(a["a"])({url:"/recommend"})}var d=s("eecb"),m=s("5d17"),h=s("fbc2"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-nav"},[s("nav-bar",{scopedSlots:t._u([{key:"left",fn:function(){return[s("i",{staticClass:"iconfont",on:{click:t.backClick}},[t._v("")])]},proxy:!0},{key:"center",fn:function(){return[s("div",{staticClass:"center"},t._l(t.titles,(function(e,n){return s("span",{key:n,class:{active:t.currentIndex===n},on:{click:function(e){return t.currentClick(n)}}},[t._v(t._s(e))])})),0)]},proxy:!0},{key:"right",fn:function(){return[s("span",[t._v("...")])]},proxy:!0}])})],1)},v=[],_=s("a7ac"),g={data:function(){return{titles:["商品","参数","评论","推荐"],currentIndex:0}},components:{NavBar:_["a"]},methods:{currentClick:function(t){this.currentIndex=t,this.$emit("currentClick",t)},backClick:function(){this.$router.back()}}},b=g,C=(s("2ba5"),s("2877")),I=Object(C["a"])(b,p,v,!1,null,"3e8da2dd",null),y=I.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("swiper",{staticClass:"detail-swiper",attrs:{loaded:t.loaded}},t._l(t.topImages,(function(e,n){return s("swiper-item",{key:n},[s("img",{attrs:{src:e},on:{load:t.imgLoad}})])})),1)},k=[],x=s("dc2c"),$={data:function(){return{imgcount:0,imgLength:0,loaded:!1}},components:{Swiper:x["a"],SwiperItem:x["b"]},props:{topImages:{type:Array,default:function(){return[]}}},methods:{imgLoad:function(){++this.imgcount===this.imgLength&&(this.loaded=!0)}},watch:{topImages:function(){return this.imgLength=this.topImages.length}}},E=$,T=(s("40d1"),Object(C["a"])(E,w,k,!1,null,"650ff76d",null)),j=T.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!==Object.keys(t.goods).length?s("div",{staticClass:"detail-base-info"},[s("div",{staticClass:"title"},[t._v(" "+t._s(t.goods.title)+" ")]),s("div",{staticClass:"price"},[s("span",{staticClass:"n-price"},[t._v(t._s(t.goods.newPrice))]),s("span",{staticClass:"o-price"},[t._v(t._s(t.goods.oldPrice))]),t.goods.discount?s("span",{staticClass:"discount"},[t._v(t._s(t.goods.discount))]):t._e()]),s("div",{staticClass:"info-other"},[s("span",[t._v(t._s(t.goods.columns[0]))]),s("span",[t._v(t._s(t.goods.columns[1]))]),s("span",[t._v(t._s(t.goods.services[t.goods.services.length-1].name))])]),s("div",{staticClass:"info-service"},t._l(t.goods.services.length-1,(function(e){return s("span",{key:e,staticClass:"info-service-item"},[s("img",{attrs:{src:t.goods.services[e-1].icon}}),s("span",[t._v(t._s(t.goods.services[e-1].name))])])})),0)]):t._e()},L=[],S={props:{goods:{type:Object,default:function(){return{}}}}},P=S,B=(s("e1c4"),Object(C["a"])(P,O,L,!1,null,"596ce119",null)),D=B.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-shop-info"},[s("div",{staticClass:"top"},[s("img",{attrs:{src:t.shop.logo}}),s("span",{staticClass:"title"},[t._v(t._s(t.shop.name))])]),s("div",{staticClass:"middle"},[s("div",{staticClass:"middle-left"},[s("div",{staticClass:"sell-count"},[s("span",{staticClass:"number"},[t._v(t._s(t._f("sellCountFilter")(t.shop.sells)))]),s("span",[t._v("总销量")])]),s("div",{staticClass:"goods-count"},[s("span",{staticClass:"number"},[t._v(t._s(t.shop.goodsCount))]),s("span",[t._v("全部宝贝")])])]),s("div",{staticClass:"middle-right"},[s("table",t._l(t.shop.score,(function(e,n){return s("tr",{key:n},[s("td",[t._v(t._s(e.name))]),s("td",{staticClass:"score",class:{"score-better":e.isBetter}},[t._v(t._s(e.score))]),s("td",{staticClass:"better",class:{"better-more":e.isBetter}},[s("span",[t._v(t._s(e.isBetter?"高":"低"))])])])})),0)])]),t._m(0)])},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottom"},[s("span",[t._v("进店逛逛")])])}],Y=(s("b680"),{props:{shop:{type:Object,default:function(){return{}}}},filters:{sellCountFilter:function(t){return t<1e4?t:(t/1e4).toFixed(1)+"万"}}}),N=Y,M=(s("a3b5"),Object(C["a"])(N,z,F,!1,null,"886323a8",null)),A=M.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!=Object.keys(t.detailInfo).length?s("div",{staticClass:"detail-goods-info"},[s("div",{staticClass:"line-top"}),s("span",{staticClass:"desc"},[t._v(" "+t._s(t.detailInfo.desc)+" ")]),s("div",{staticClass:"line-bottom"}),t._l(t.detailInfo.detailImage,(function(e,n){return s("div",{key:n,staticClass:"image"},[s("span",{staticClass:"image-key"},[t._v(" "+t._s(e.key)+" ")]),t._l(e.list,(function(e,n){return s("img",{key:n,attrs:{src:e,alt:""},on:{load:t.imgLoad}})}))],2)}))],2):t._e()},R=[],J=(s("159b"),{props:{detailInfo:{type:Object,default:function(){return{}}}},data:function(){return{imageLength:0,currentLoadCount:0}},methods:{imgLoad:function(){++this.currentLoadCount===this.imageLength&&this.$emit("imgLoad")}},watch:{detailInfo:function(){var t=this;this.detailInfo.detailImage.forEach((function(e){return t.imageLength+=e.list.length}))}}}),q=J,H=(s("0046"),Object(C["a"])(q,G,R,!1,null,null,null)),W=H.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!=Object.keys(t.paramInfo).length?s("div",{staticClass:"detail-params-info"},[s("div",{staticClass:"size"},[s("table",t._l(t.sizes,(function(e,n){return s("tr",{key:n},[s("th",[t._v(t._s(e[0]))]),t._l(e.length-1,(function(n,i){return s("td",{key:i},[t._v(" "+t._s(e[n])+" ")])}))],2)})),0)]),s("div",{staticClass:"rule"},[s("table",t._l(t.paramInfo.infos,(function(e,n){return s("tr",{key:n},[s("th",[t._v(t._s(e.key))]),s("td",[t._v(t._s(e.value))])])})),0)]),""!=t.paramInfo.image?s("div",{staticClass:"info_img"},[s("img",{attrs:{src:t.paramInfo.image,alt:""}})]):t._e()]):t._e()},Q=[],U=s("2909"),V=(s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0"),s("06c5"));function X(t,e){var s="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=Object(V["a"])(t))||e&&t&&"number"===typeof t.length){s&&(t=s);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,r=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return a=t.done,t},e:function(t){r=!0,o=t},f:function(){try{a||null==s["return"]||s["return"]()}finally{if(r)throw o}}}}s("a434");var Z={props:{paramInfo:{type:Object,default:function(){return{}}}},computed:{sizes:function(){if(1===this.paramInfo.sizes.length)return this.paramInfo.sizes[0];for(var t=[],e=1;e<this.paramInfo.sizes.length;e++){var s,n=X(this.paramInfo.sizes[e]);try{for(n.s();!(s=n.n()).done;){var i=s.value;i.splice(0,1),t.push.apply(t,Object(U["a"])(i))}}catch(a){n.e(a)}finally{n.f()}}for(var o=0;o<t.length;o++)this.paramInfo.sizes[0][o].push(t[o]);return this.paramInfo.sizes[0]}}},tt=Z,et=(s("7052"),Object(C["a"])(tt,K,Q,!1,null,"643c3e6b",null)),st=et.exports,nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return 0!=Object.keys(t.commentInfo).length?s("div",{staticClass:"detail_commentInfo"},[t._m(0),s("div",{staticClass:"commentInfo_info"},[s("div",{staticClass:"u_info"},[s("img",{attrs:{src:t.commentInfo.user.avatar,alt:""}}),s("span",[t._v(t._s(t.commentInfo.user.uname))])]),s("div",{staticClass:"commentInfo_content"},[s("span",{staticClass:"content"},[t._v(t._s(t.commentInfo.content))]),s("p",{staticClass:"content_info"},[t._v(" "+t._s(t._f("dateShow")(t.commentInfo.created))+" "+t._s(t.commentInfo.style)+" ")])])]),null!=t.commentInfo.images?s("div",{staticClass:"commentInfo_img"},t._l(t.commentInfo.images,(function(t,e){return s("img",{key:e,attrs:{src:t,alt:""}})})),0):t._e(),null!=t.commentInfo.explain?s("div",{staticClass:"shop_reply"},[t._v(" "+t._s(t.commentInfo.explain)+" ")]):t._e()]):t._e()},it=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"commentInfo_title"},[s("span",{staticClass:"commentInfo_name"},[t._v("用户评价")]),s("span",{staticClass:"commentInfo_more"},[t._v("更多")])])}],ot=s("90b9"),at={props:{commentInfo:{type:Object,default:function(){return{}}}},filters:{dateShow:function(t){var e=new Date(1e3*t);return Object(ot["b"])(e,"yyyy-MM-dd hh:mm:ss")}}},rt=at,ct=(s("a45d"),Object(C["a"])(rt,nt,it,!1,null,"b3ccef64",null)),lt=ct.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-bottom-bar"},[t._m(0),t._m(1),t._m(2),s("span",{staticClass:"add-cart",on:{click:t.addToCart}},[t._v(" 加入购物车 ")]),s("span",{staticClass:"buy"},[t._v(" 购买 ")])])},ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"service"},[s("i",{staticClass:"iconfont"},[t._v("")]),t._v(" 客服 ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"shop"},[s("i",{staticClass:"iconfont"},[t._v("")]),t._v(" 店铺 ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"collect"},[s("i",{staticClass:"iconfont"},[t._v("")]),t._v(" 收藏 ")])}],dt={methods:{addToCart:function(){this.$emit("addCart")}}},mt=dt,ht=(s("31b0"),Object(C["a"])(mt,ft,ut,!1,null,"0ebcd1ae",null)),pt=ht.exports,vt={name:"Detail",data:function(){return{iid:null,topImages:[],goods:{},shop:{},detailInfo:{},paramsInfo:{},commentInfo:{},recommend:[],themeTopYs:[],currentIndex:0}},components:{Scroll:m["a"],DetailNavBar:y,DetailSwiper:j,DetailBaseInfo:D,DetailShopInfo:A,DetailGoodsInfo:W,DetailParamsInfo:st,DetailCommentInfo:lt,GoodList:h["a"],DetailBottomBar:pt},created:function(){var t=this;this.iid=this.$route.query.iid,r(this.iid).then((function(e){var s=e.result;t.topImages=s.itemInfo.topImages,t.goods=new c(s.itemInfo,s.columns,s.shopInfo.services),t.shop=new l(s.shopInfo),t.detailInfo=s.detailInfo,t.paramsInfo=new f(s.itemParams.info,s.itemParams.rule),0!==s.rate.cRate&&(t.commentInfo=s.rate.list[0]),u().then((function(e){t.recommend=e.data.list}))}))},mixins:[d["c"],d["b"]],methods:{imgLoad:function(){this.$refs.scroll.refresh();var t=this.$refs.nav.$el.offsetHeight;this.themeTopYs.push(0),this.$refs.params&&this.themeTopYs.push(this.$refs.params.$el.offsetTop-t),this.$refs.comment&&this.themeTopYs.push(this.$refs.comment.$el.offsetTop-t),this.$refs.recommend&&this.themeTopYs.push(this.$refs.recommend.$el.offsetTop-t),this.themeTopYs.push(1/0)},currentClick:function(t){this.$refs.scroll.scrollTo(0,-this.themeTopYs[t],200)},currentPosition:function(t){for(var e=-t.y,s=0;s<this.themeTopYs.length-1;s++)this.currentIndex!==s&&e>=this.themeTopYs[s]&&e<this.themeTopYs[s+1]&&(this.currentIndex=s,this.$refs.nav.currentIndex=this.currentIndex),this.listenBackTopPosition(t)},addToCart:function(){var t=this,e={};e.image=this.topImages[0],e.title=this.goods.title,e.desc=this.goods.desc,e.price=this.goods.realPrice,e.iid=this.iid,e.checked=!1,this.$store.dispatch("addCart",e).then((function(e){t.$toast.show(e)}))}},destroyed:function(){this.$EventBus.$off("itemImageLoad",this.itemImgListener)}},_t=vt,gt=(s("c54e"),Object(C["a"])(_t,n,i,!1,null,"b9ae6628",null));e["default"]=gt.exports},7052:function(t,e,s){"use strict";s("a1c3")},8203:function(t,e,s){},8716:function(t,e,s){},a1c3:function(t,e,s){},a3b5:function(t,e,s){"use strict";s("e7d4")},a434:function(t,e,s){"use strict";var n=s("23e7"),i=s("23cb"),o=s("a691"),a=s("50c4"),r=s("7b0b"),c=s("65f0"),l=s("8418"),f=s("1dde"),u=f("splice"),d=Math.max,m=Math.min,h=9007199254740991,p="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var s,n,f,u,v,_,g=r(this),b=a(g.length),C=i(t,b),I=arguments.length;if(0===I?s=n=0:1===I?(s=0,n=b-C):(s=I-2,n=m(d(o(e),0),b-C)),b+s-n>h)throw TypeError(p);for(f=c(g,n),u=0;u<n;u++)v=C+u,v in g&&l(f,u,g[v]);if(f.length=n,s<n){for(u=C;u<b-n;u++)v=u+n,_=u+s,v in g?g[_]=g[v]:delete g[_];for(u=b;u>b-n+s;u--)delete g[u-1]}else if(s>n)for(u=b-n;u>C;u--)v=u+n-1,_=u+s-1,v in g?g[_]=g[v]:delete g[_];for(u=0;u<s;u++)g[u+C]=arguments[u+2];return g.length=b-n+s,f}})},a45d:function(t,e,s){"use strict";s("e71e")},a640:function(t,e,s){"use strict";var n=s("d039");t.exports=function(t,e){var s=[][t];return!!s&&n((function(){s.call(null,e||function(){throw 1},1)}))}},b680:function(t,e,s){"use strict";var n=s("23e7"),i=s("a691"),o=s("408a"),a=s("1148"),r=s("d039"),c=1..toFixed,l=Math.floor,f=function(t,e,s){return 0===e?s:e%2===1?f(t,e-1,s*t):f(t*t,e/2,s)},u=function(t){var e=0,s=t;while(s>=4096)e+=12,s/=4096;while(s>=2)e+=1,s/=2;return e},d=function(t,e,s){var n=-1,i=s;while(++n<6)i+=e*t[n],t[n]=i%1e7,i=l(i/1e7)},m=function(t,e){var s=6,n=0;while(--s>=0)n+=t[s],t[s]=l(n/e),n=n%e*1e7},h=function(t){var e=6,s="";while(--e>=0)if(""!==s||0===e||0!==t[e]){var n=String(t[e]);s=""===s?n:s+a.call("0",7-n.length)+n}return s},p=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){c.call({})}));n({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,s,n,r,c=o(this),l=i(t),p=[0,0,0,0,0,0],v="",_="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(v="-",c=-c),c>1e-21)if(e=u(c*f(2,69,1))-69,s=e<0?c*f(2,-e,1):c/f(2,e,1),s*=4503599627370496,e=52-e,e>0){d(p,0,s),n=l;while(n>=7)d(p,1e7,0),n-=7;d(p,f(10,n,1),0),n=e-1;while(n>=23)m(p,1<<23),n-=23;m(p,1<<n),d(p,1,1),m(p,2),_=h(p)}else d(p,0,s),d(p,1<<-e,0),_=h(p)+a.call("0",l);return l>0?(r=_.length,_=v+(r<=l?"0."+a.call("0",l-r)+_:_.slice(0,r-l)+"."+_.slice(r-l))):_=v+_,_}})},c54e:function(t,e,s){"use strict";s("4c5b")},e1c4:function(t,e,s){"use strict";s("2b6b")},e71e:function(t,e,s){},e7d4:function(t,e,s){}}]);
//# sourceMappingURL=chunk-101f0a15.46c05090.js.map